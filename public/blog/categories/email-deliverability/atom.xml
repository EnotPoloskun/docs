<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Email Deliverability | My Octopress Blog]]></title>
  <link href="http://yoursite.com/blog/categories/email-deliverability/atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2012-08-17T14:29:47-06:00</updated>
  <id>http://yoursite.com/</id>
  <author>
    <name><![CDATA[Your Name]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How To: Eliminate the On Behalf Of Message]]></title>
    <link href="http://yoursite.com/blog/2011/06/27/how-to-eliminate-the-on-behalf-of-message/"/>
    <updated>2011-06-27T09:56:46-06:00</updated>
    <id>http://yoursite.com/blog/2011/06/27/how-to-eliminate-the-on-behalf-of-message</id>
    <content type="html"><![CDATA[<p>When you check your messages in some readers, are they showing up as "Sent by You, on Behalf of SendGrid"? Or does it look even messier than that? Well, it's really quite an easy fix!</p>

<p>Some ISPs or mail readers, such as Hotmail or Outlook, will display a message with the Sender header set as “on behalf of” and then the address that is in the Sender header. This is caused by the <strong>DomainKeys</strong> configuration of your account.</p>

<p>By default, SendGrid signs all e-mail with DomainKeys to improve deliverability with some smaller domains. However, with accounts that do not have whitelabeling, this means that the domain in the From field will not have the proper DNS record to authenticate the e-mail. Because of this, SendGrid inserts a Sender header, and the e-mail can then be properly authenticated.</p>

<p>However, the vast majority of recipient servers now check authenticity using DKIM, which is the evolution of Domain Keys. All emails sent out by SendGrid are signed with DKIM, whether your account is whitelabeled or not. So if you're having this problem, feel free to disable DomainKeys, and it should not have any impact on your deliverability. You can disable them by going to your Apps, <a href="http://sendgrid.com/app">here</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[What is Throttling?]]></title>
    <link href="http://yoursite.com/blog/2011/06/21/what-is-throttling/"/>
    <updated>2011-06-21T02:37:59-06:00</updated>
    <id>http://yoursite.com/blog/2011/06/21/what-is-throttling</id>
    <content type="html"><![CDATA[<p>So, you tried to send a bunch of email, and when you checked your <a href="/documentation/api/event-api/">Event API</a> or your <a href="/documentation/delivery-metrics/email-activity/">Email Activity</a> page, you see a number of messages are marked as “Deferred” instead of “Delivered”. Or maybe you’re looking at your <a href="/documentation/delivery-metrics/email-lists/">Email Reports</a>, and noticing a lot of addresses in your Soft <a href="http://sendgrid.com/bounces">Bounces</a>, but not many in your Hard Bounces.
What? Why aren’t your recipients currently in awe at the glory of your amazing message?</p>

<p>First of all, rest assured that our system is designed with throttling (also known as 'deferral'; these terms mean the same thing in the email world, and may be used interchangeably) in mind. We continue to attempt to send messages for up to 72 hours until the message is delivered. Normally, it takes between a few minutes to a few hours until the message is delivered.</p>

<p>But what is throttling? Well, it’s when a receiving server refuses a message, but with a specific explanation that tells our server it’s only a temporary refusal. They usually say things like “user is receiving mail at too great a rate right now, please try again later”, or “user’s mailbox is over quota”.
One important thing to note is that these errors are almost always a <strong>400</strong> class of error.</p>

<h3>What can cause a deferral? A number of things:</h3>

<ul>
<li><p>The receiving server doesn’t recognize your IP, and is afraid you’re sending spam.
<em>This is why <a href="/documentation/get-started/sending-practices-limitations/warming-up-your-ip-address/">warming up</a> is so important, so they know who you are.</em></p></li>
<li><p>The receiving server doesn’t have any open ports to receive email.</p></li>
<li><p>The recipient’s mailbox is full.</p></li>
<li><p>Some recipients have marked your mail as spam, but not enough for the server to block you. Instead, they will refuse to receive more until they see what the rest of your current recipients do.</p></li>
</ul>


<p>What happens if it’s continuously deferred for 72 hours? Well, that generally means it’s an issue like the account being inactive, having a full mailbox, or some other legitimate problem with the recipient. When we are unable to deliver a message after this time period, we convert these deferrals (also known as Soft Bounces on the Email Reports) to “Hard Bounces”. When an address is hard bounced either due to this, or because we got a different class of error (such as “this user does not exist”), we add this address to the Hard Bounce email list.</p>

<p>What this means is that even if you send a message through us for that user, we will not even try to deliver to that address, because we know it’s no longer good. Continuing to try to send to a known bad address will harm your reputation with the receiver, so we prevent that. However, if you continue to try to send, and we intercept it, your reputation with us goes down, as noted on your Dashboard <a href="http://sendgrid.com/account/overview">Account Overview</a>.</p>

<h3>To recap:</h3>

<p>Deferrals, aka Throttling, aka Soft Bounces are a normal part of email delivery, one SendGrid knows how to handle.
There are a number of mundane reasons that can cause a deferral.
If a message stays throttled, it will be added to the Hard Bounce Email Report.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SPF Records]]></title>
    <link href="http://yoursite.com/blog/2011/06/02/spf-records-voila-validation-verisimilitude/"/>
    <updated>2011-06-02T05:55:36-06:00</updated>
    <id>http://yoursite.com/blog/2011/06/02/spf-records-voila-validation-verisimilitude</id>
    <content type="html"><![CDATA[<p>Sender Policy Framework (SPF) is an open standard aimed at preventing sender address forgery by letting domain owners identify valid outgoing mail servers in a DNS record. SMTP receivers can then verify originating server addresses against the DNS record and determine that messages are authentic before accepting them.</p>

<p><strong>SPF and Whitelabel</strong></p>

<p>As part of the <a href="/docs/email-deliverability/the-whitelabel-process/">whitelabel process</a> you must create a subdomain (such as <em>email.example.com</em>) which is used for click and open tracking and is used in the Return-Path email header. SPF uses the value in the Return-Path header for the DNS lookup to determine the permitted senders for the domain.</p>

<p>If you have an SPF record set for your <strong>root</strong> domain (i.e. <em>example.com</em>), you must add <em>include:sendgrid.net</em> before the <em>all</em> selector of this record. If you do not have an SPF record for your domain you must create the SPF record with the value:
<code>v=spf1 a mx include:sendgrid.net ~all</code>
To add a new SPF record to your domain, you need access to create a TXT record with your DNS provider. Once you are able to create the record, just add the value noted above and you'll be all set!</p>

<h2><strong>Don't Exceed Ten DNS Lookups!</strong></h2>

<p>Many people (ourselves included at one point) may not realize it, but the Sender Policy Framework (SPF) specification has a limit on the number of DNS lookups (10) required to fully resolve an SPF record. One typically quickly exceeds this limit through the reckless use of the include modifier.</p>

<p>Section 10.1, "Processing Limits" of the <a href="http://datatracker.ietf.org/doc/rfc4408/">SPF RFC</a> specifies the following in regards to DNS lookups:</p>

<blockquote><p>SPF implementations MUST limit the number of mechanisms and modifiers that do DNS lookups to at most 10 per SPF check, including any lookups caused by the use of the "include" mechanism or the "redirect" modifier.  If this number is exceeded during a check, a PermError MUST be returned.  The "include", "a", "mx", "ptr", and "exists" mechanisms as well as the "redirect" modifier do count against this limit.  The "all", "ip4", and "ip6" mechanisms do not require DNS lookups and therefore do not count against this limit. The "exp" modifier does not count against this limit because the DNS lookup to fetch the explanation string occurs after the SPF record has been evaluated.</p></blockquote>

<p>This limit is in place to prevent SPF lookups from being a useful avenue for Denial of Service attacks.</p>

<p>Is your SPF record validating?  You might want to find out <a href="http://www.kitterman.com/spf/validate.html">here.</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MSN Problem Alerts]]></title>
    <link href="http://yoursite.com/blog/2011/05/25/msn-problem-alerts/"/>
    <updated>2011-05-25T09:54:40-06:00</updated>
    <id>http://yoursite.com/blog/2011/05/25/msn-problem-alerts</id>
    <content type="html"><![CDATA[<p>For users who have a reseller enabled account you will receive daily notifications about the status of your IPs reputation to Hotmail if we detect that there is a problem. This problem can be anything from being partially filtered by Hotmail to being completely blocked. In the email alert we send you the data that Hotmail has made available to us for the last 24 hours. The data represents factual information about              what actually transpired, it's effectively built from the  log files of the              inbound mail machines and other servers at Hotmail and  Microsoft.</p>

<p>The email will look similar to this image below.</p>

<p><img src="/wp-content/uploads/2011/05/msnproblem.png" alt="" /></p>

<p><strong>IP </strong></p>

<p>This is your dedicated IP which is having the problem.</p>

<p><strong>Usernames</strong></p>

<p>These are the usernames which are associated with that IP.</p>

<p><strong>UserIDs</strong></p>

<p>These is the ID that corresponds to each username.</p>

<p><strong>Status</strong><br/>
Displayed here are the aggregate results of the spam  filtering applied to all messages              sent by the IP during the given activity period. No spam  filter is perfect and, in              particular, this information is meant to be only one data  point that helps              paint a picture, not be a final judgment that the traffic  was truly spam or              not. The following table defines the colors in terms of the  percent of              time that a "spam" verdict is rendered on a message. Please  note that              one message to ten recipients counts as ten spam/not  spam verdicts,              not one.</p>

<p>Result</p>

<p>Example</p>

<p>Verdict percentage</p>

<p>Green</p>

<p>Spam &lt; 10%</p>

<p>Yellow</p>

<p>10% &lt; spam &lt; 90%</p>

<p>Red</p>

<p>Spam > 90%</p>

<p>The percentage range for the yellow designation may seem  large but is actually              fairly small in terms of the number of IPs that fall into  this              range relative to the other two. Unfortunately, since SNDS  is              available to anyone who can prove they own an IP range, this  is a case where we              must be careful not to provide too much data that might  assist spammers.              One trick however, when viewing data for a number of IPs, is  that it can often              be enlightening to consider the non-yellow IPs: if they're  green, the yellow              results are most likely very close to the 10% end.  Similarly, if the              majority of the other IPs are red, the yellows probably  represent results near              90%. The same technique can be applied when looking             at one IP's history.</p>

<p>Please keep in mind that this result doesn't directly  represent deliveries to              users' inboxes or "Junk e-mail" folders. Settings  controlled by each user might rescue             some legitimate traffic from being put in the "Junk e-mail"  folder,              or conversely, might treat other messages more harshly. It  doesn't take              into account messages that might have been caught but  weren't because they were              on a user's safelist, for example.</p>

<p><strong>Trap hits</strong><br/>
Displays the number of messages sent to "trap accounts".  Trap              accounts are accounts maintained by Windows Live Hotmail  that don't solicit any mail.              Thus any messages sent to trap accounts are very likely to  be spam.              Well-behaved senders will hit very few such accounts because  they're generally              sending to people who give them their address and because  they collect and              process their NDRs. Spammers have a much harder time  avoiding them              because, in general, they can't and don't do either of those  good practices.</p>

<p><strong>RCPT</strong><br/>
This is the number of RCPT commands sent by the IP during  the time period in              question. RCPT commands are part of the SMTP protocol used to send mail, specifically that which  specifies              one's intent to send mail to the provided recipient. That  is, the command              "RCPT TO:<a href="&#x6d;&#97;&#105;&#x6c;&#x74;&#x6f;&#58;&#101;&#x78;&#x61;&#109;&#112;&#x6c;&#101;&#x40;&#104;&#111;&#116;&#109;&#x61;&#105;&#108;&#x2e;&#x63;&#111;&#x6d;">&#101;&#x78;&#97;&#109;&#112;&#x6c;&#101;&#64;&#104;&#111;&#x74;&#x6d;&#97;&#105;&#108;&#46;&#x63;&#x6f;&#109;</a>" requests Windows Live  Hotmail's servers to respond              with whether it will accept mail for example@hotmail.com,  information which is              invaluable to spammers trying to compile recipient lists for  future              spamming. For reference, more than a third of IPs sending  mail to Windows Live Hotmail              keep the fraction of RCPT commands that don't result in  message recipients              under 10% and that is a good benchmark to             measure against.</p>

<p><strong>Blocked</strong></p>

<p>IPs which are blocked from sending mail into Hotmail.                 Attempts to send mail to Hotmail's mail servers from  these IPs will result in consistent refusal,                  however use of the Hotmail web user interface may not be  affected--it is                     controlled separately. The reason or source                  of the block is provided, along with more specific  information about it. To                 see about unblocking an IP address, please go to the main Postmaster site<a href="https://postmaster.live.com/"></a> and follow                 the instructions there.</p>

<p><strong>Block reason </strong></p>

<p>The reason why the IP was blocked by Hotmail.</p>

<p>More information can be found <a href="https://postmaster.live.com/snds/FAQ.aspx">here</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Internet Standards and Deliverability]]></title>
    <link href="http://yoursite.com/blog/2011/05/25/internet-standards-and-deliverability/"/>
    <updated>2011-05-25T09:44:47-06:00</updated>
    <id>http://yoursite.com/blog/2011/05/25/internet-standards-and-deliverability</id>
    <content type="html"><![CDATA[<p>For standards like SPF and DKIM / DomainKeys, whether they improve deliverability or bypass filters is entirely at the discretion of the validating receivers. It is expected that messages from a sender with a good reputation would be subject to less scrutiny by the receiver's filters. [1] In other words, omitting these standards usually doesn't hurt, but providing them can only help deliverability.</p>

<p>Some other things to consider:</p>

<ul>
<li><p><a href="http://tools.ietf.org/html/rfc4871">DKIM</a> is an internet standards track standard and obsoletes <a href="http://tools.ietf.org/html/rfc4870">DomainKeys</a></p></li>
<li><p>If you turn off DomainKeys we'll still sign the email with DKIM which is not affected by the <a href="/docs/email-deliverability/how-to-eliminate-the-on-behalf-of-message/">on behalf of issue</a>, and is designed for the type of third-party signing we do.</p></li>
<li><p>An SPF record is invalid if it requires <a href="/docs/tips-tricks/spf-records-dont-have-more-than-10-dns-lookups/">more than 10 DNS lookups</a></p></li>
<li><p>An SPF record is invalid if you have more than one SPF record for a given domain. In this case you will want to merge the additional SPF records into one SPF record.</p></li>
</ul>


<p>[1] <a href="http://www.dkim.org/info/dkim-faq.html">DKIM Frequently Asked Questions</a></p>
]]></content>
  </entry>
  
</feed>
