---
layout: page
title: Exim
navigation:
  show: true
---

<p>
<span class="label label-warning">Warning</span>
Versions of Exim prior to the current major release are considered obsolete. If you are using Exim 3.x or earlier it is suggested by the Exim development team that you upgrade to the current release.
</p>

<p>
The following configuration file, which can be found at <strong>/etc/exim4/update-exim4.conf.conf</strong>, was pulled from Ubuntu Server 10.4 and is for example purposes only:<br><br>
</p>

``` bash
dc_eximconfig_configtype='smarthost'
dc_other_hostnames=''
dc_local_interfaces='127.0.0.1'
dc_readhost='your.server.name'
dc_relay_domains=''
dc_minimaldns='false'
dc_relay_nets=''
dc_smarthost='smtp.sendgrid.net::587'
CFILEMODE='644'
dc_use_split_config='false'
dc_hide_mailname='true'
dc_mailname_in_oh='true' 
```

Enable TLS support in <strong>/etc/exim4/exim4.conf.localmacros</strong>.
<br/>
<span class="label label-info">Info</span> If this file does not exist, you will need to create it.:

``` bash
MAIN_TLS_ENABLE = 1
```
Enter credentials that will allow Exim to access SendGrid inÂ <strong>/etc/exim4/passwd.client</strong>:

``` bash
*:sendgridusername:sendgridpassword
```

Once you have completed and saved all changes to Exim's configuration files, you will need to restart it to activate those changes: 

``` bash
$ /etc/init.d/exim4 restart
```

<h2>cPanel</h2>
If you are using cPanel with Exim and want to relay your email through SendGrid, go to <strong>Main > Service Configuration > Exim Configuration Editor</strong>, click on the Advanced Editor button, and enter the following:

``` bash
begin authenticators

sendgrid_login:
  driver = plaintext
  public_name = LOGIN
  client_send = : username@example.com : YourSendgridPassword
```
<span class="label label-info">Info</span> Only include "begin authenticators" if it's not already in the configuration.
<br/>
Add a route in the <strong>Router Configuration</strong> Box:
``` bash
send_via_sendgrid:
  driver = manualroute
  domains = ! +local_domains
  transport = sendgrid_smtp
  route_list = "* smtp.sendgrid.net::587 byname"
  host_find_failed = defer
  no_more
```

Add a transport to the <strong>Transport Configuration</strong> Box:
``` bash
sendgrid_smtp:
  driver = smtp
  hosts = smtp.sendgrid.net
  hosts_require_auth = smtp.sendgrid.net
  hosts_require_tls = smtp.sendgrid.net
```

Once you have completed and saved all changes to Exim's configuration files, you will need to restart it to activate those changes: 

``` bash
$ /etc/init.d/exim4 restart
```