---
layout: page
weight: 0
title: Emails
navigation:
  show: true
---

<p>This endpoint allows you to manage entries in your Recipient Lists.</p>


{% anchor add %}
<p>Add one or more emails to a Recipient List.</p>

<table class="table table-bordered table-striped">
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Requirements</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>list</td>
      <td>Yes</td>
      <td>Must be an existing Recipient List.</td>
      <td>The list which you are adding email addresses too.</td>
    </tr>
    <tr>
      <td>data</td>
      <td>Yes</td>
      <td>Must be a valid JSON string matching the required format.  Limited to a 1000 entries maximum.</td>
      <td>Specify the name, email address, and additional fields to add to the specified Recipient List.</td>
    </tr>
  </table>

<ul class="nav nav-tabs">
    <li class="active"><a href="#add-json" data-toggle="tab">JSON</a></li>
    <li><a href="#add-xml" data-toggle="tab">XML</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="add-json">
      <h3>Call</h3>
{% codeblock %}
http://sendgrid.com/api/newsletter/lists/email/add.json?list=Test&data=%7B%22email%22%3A%22example%40gmail.com%22%2C%22name%22%3A%22example%22%7D&api_user=SGusername&api_key=SGpassword
{% endcodeblock %} 
	<h3>Response: Success</h3>
{% codeblock lang:javascript %}
{"inserted": 1}
{% endcodeblock %}
	<h3>Response: Error</h3>
{% codeblock lang:javascript %}
{
    "message": "error",
    "errors": [
        "...error messages..."
    ]
}
{% endcodeblock %}
    </div>
    <div class="tab-pane" id="add-xml">
      <h3>Call</h3>
{% codeblock %}
http://sendgrid.com/api/newsletter/lists/email/add.xml?list=Test&data=%7B%22email%22%3A%22example%40gmail.com%22%2C%22name%22%3A%22example%22%7D&api_user=SGusername&api_key=SGpassword
{% endcodeblock %}
	<h3>Response: Success</h3>

{% codeblock lang:xml %}
<result>
  <inserted>1</inserted>
</result>
{% endcodeblock %}
	  <h4>Response: Error</h4> 
{% codeblock lang:xml %}
<result>
  <message>error: reason</message>
</result>
{% endcodeblock %}
    </div>
  </div>

<h3>Response</h3>

<p>Success: (X records inserted)</p>
{% codeblock %}{"inserted": X}{% endcodeblock %}

<h3>Examples</h3>

<p>Add an email recipient to a list:</p>
{% codeblock %}
#curl -d 'api_user=username&api_key=password&list=my_list&data={"email":"address@domain.com","name":"contactName"}' https://sendgrid.com/api/newsletter/lists/email/add.json
{% endcodeblock %}

<p>Add an email recipient with multiple data fields:</p>
{% codeblock %}#curl -d 'api_user=username&api_key=password&list=my_list&data={"email":"grouch@trashcan.com","name":"Oscar","city":"New York","street":"123 Sesame St"}' https://sendgrid.com/api/newsletter/lists/email/add.json{% endcodeblock %}

<p>Add multiple email recipients to a list:</p>
{% codeblock %}
#curl -d 'api_user=username&api_key=password&list=my_list&data[]={"email":"address1@domain.com","name":"contactName1"}&data[]={"email":"address2@domain.com","name":"contactName2"}' https://sendgrid.com/api/newsletter/lists/email/add.json
{% endcodeblock %}

<hr/>


{% anchor get %}

<p>Get the email addresses and associated fields for a Recipient List.</p>

<table class="table table-bordered table-striped">
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Requirements</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>list</td>
      <td>Yes</td>
      <td>Must be an existing Recipient List.</td>
      <td>The list you are searching.</td>
    </tr>
    <tr>
      <td>email</td>
      <td>No</td>
      <td>Must be an email address or list of addresses.</td>
      <td>Optional email addresses to search for in the Recipient List.</td>
    </tr>
  </table>

<ul class="nav nav-tabs">
    <li class="active"><a href="#get-json" data-toggle="tab">JSON</a></li>
    <li><a href="#get-xml" data-toggle="tab">XML</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="get-json">
      <h3>Call</h3>
{% codeblock %}
http://sendgrid.com/api/newsletter/lists/email/get.json?list=Test&api_user=SGusername&api_key=SGpassword
{% endcodeblock %} 
	<h3>Response: Success</h3>
{% codeblock lang:javascript %}
[{"email": "dominic.may@sendgrid.com", "name": ""}]
{% endcodeblock %}
	<h3>Response: Error</h3>
{% codeblock lang:javascript %}
{
    "message": "error",
    "errors": [
        "...error messages..."
    ]
}
{% endcodeblock %}
    </div>
    <div class="tab-pane" id="get-xml">
      <h3>Call</h3>
{% codeblock %}
http://sendgrid.com/api/newsletter/lists/email/get.xml?list=Test&api_user=SGusername&api_key=SGpassword
{% endcodeblock %}
	<h3>Response: Success</h3>

{% codeblock lang:xml %}
<emails>
  <email>
    <email>dominic.may@sendgrid.com</email>
    <name>
    </name>
  </email>
</emails>
{% endcodeblock %}
	  <h4>Response: Error</h4> 
{% codeblock lang:xml %}
<result>
  <message>error: reason</message>
</result>
{% endcodeblock %}
    </div>
  </div>

<hr/>


{% anchor delete %}

<p>Remove one or more emails from a Recipient List.</p>

<table class="table table-bordered table-striped">
    <tr>
      <th>Parameter</th>
      <th>Required</th>
      <th>Requirements</th>
      <th>Description</th>
    </tr>
    <tr>
      <td>list</td>
      <td>Yes</td>
      <td>Must be an existing Recipient List.</td>
      <td>The list which you are removing email addresses from.</td>
    </tr>
    <tr>
      <td>email</td>
      <td>Yes</td>
      <td>Must be an email or emails in the Recipient List.</td>
      <td>Specify the email address or email addresses you wish to remove from the specified Recipient List.</td>
    </tr>
  </table>

<ul class="nav nav-tabs">
    <li class="active"><a href="#delete-json" data-toggle="tab">JSON</a></li>
    <li><a href="#delete-xml" data-toggle="tab">XML</a></li>
  </ul>
  <div class="tab-content">
    <div class="tab-pane active" id="delete-json">
      <h3>Call</h3>
{% codeblock %}
http://sendgrid.com/api/newsletter/lists/email/delete.json?list=Test&email=example%40gmail.com&api_user=SGusername&api_key=SGpassword
{% endcodeblock %} 
	<h3>Response: Success</h3>
{% codeblock lang:javascript %}
{"removed": 1}
{% endcodeblock %}
	<h3>Response: Error</h3>
{% codeblock lang:javascript %}
{
    "message": "error",
    "errors": [
        "...error messages..."
    ]
}
{% endcodeblock %}
    </div>
    <div class="tab-pane" id="delete-xml">
      <h3>Call</h3>
{% codeblock %}
http://sendgrid.com/api/newsletter/lists/email/delete.xml?list=Test&email=example%40gmail.com&api_user=SGusername&api_key=SGpassword
{% endcodeblock %}
	<h3>Response: Success</h3>

{% codeblock lang:xml %}
<result>
  <removed>1</removed>
</result>
{% endcodeblock %}
	  <h4>Response: Error</h4> 
{% codeblock lang:xml %}
<result>
  <message>error: reason</message>
</result>
{% endcodeblock %}
    </div>
  </div>
